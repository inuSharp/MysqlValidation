<?php
$host   = "";$port   = "";$dbname = '';$user   = '';$pass   = '';function dbConnect(){global $dbh,$host,$port,$dbname,$user,$pass;try {$dbh = new PDO('mysql:host='.$host.';port='.$port.';dbname='.$dbname, $user, $pass,[PDO::ATTR_PERSISTENT => false,PDO::MYSQL_ATTR_INIT_COMMAND => "SET CHARACTER SET `utf8`",PDO::ATTR_ERRMODE => PDO::ERRMODE_EXCEPTION]);} catch (Exception $e) {print "Error!: " . $e->getMessage() . "\n";die();}
}function execSQL($sql, $values = []){global $dbh;if (count($values) != 0) {$sql = rep($sql, $values);}try {$stmt = $dbh->prepare($sql);$stmt->execute();} catch (Exception $e) {print "Error!: " . $e->getMessage() . "\n";die();}}function select($sql, $values = []){global $dbh;if (count($values) != 0) {$sql = rep($sql, $values);}
$stmt = $dbh->prepare($sql);$stmt->execute();$rs = $stmt->fetchAll();$c = [];$rowIndex = -1;foreach ($rs as $row) {$rowIndex++;$c[$rowIndex] = [];foreach ($row as $colName => $colValue) {if (is_numeric($colName)) {continue;}$c[$rowIndex][$colName] = $colValue;}}return $c;}function transactionStart(){global $dbh;$dbh->beginTransaction();}function commit(){global $dbh;$dbh->commit();}function rollback(){global $dbh;$dbh->rollBack();}function rep($sql, $values) {$bef = [];$aft = [];foreach ($values as $key => $value) {$bef[] = ':' .$key;$aft[] = $value;}return str_replace($bef, $aft, $sql);}
function getSQL($path) {return file_get_contents($path);}

